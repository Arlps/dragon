<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/reset.css">
	<script src="js/jQuery-2.1.4.min.js"></script>
	<script src="js/echarts.min.js"></script>
</head>
<body>
	<div id="chart" style="width:400px; height:400px; border:1px solid black"></div>
	<button onclick=";">阿萨德hi</button>
	<script>
	var mychart;
	$('button').click(function(){
		// 已经初始化过，销毁
		if(mychart!=undefined){
			mychart.dispose();
		}
		// 初始化
		mychart=chart()
		console.log(mychart)

		// 更新数据
		setTimeout(function(){
			mychart.setOption({
		        // xAxis: {
		        //     data: data.categories
		        // },
		        series: [{
		            // 根据名字对应到相应的系列
		            name: '销量',
		            data:[1,2,3,4,5,6]
		        }]
    		});
		},2000)
	})
	var mychart;

	function chart(){
		// 柱状图
		var column = {
	        title: {
	            text: 'ECharts 入门示例'
	        },
	        tooltip: {},
	        legend: {
	            data:['销量']
	        },
	        xAxis: {
	            data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
	        },
	        yAxis: {},
	        // 缩放
	        dataZoom: [
		        {
		            type: 'slider',
		            show: true,
		            xAxisIndex: [0],
		            start: 1,
		            end: 100
		        }
		    ],
	        series: [{
	            name: '销量',
	            type: 'bar',
	            data: [5, 20, 36, 10, 10, 20]
	        }]
	    };
	    // 饼图
	    var pie={
	    	backgroundColor: '#2c343c', //背景色
	    	// 色块明暗变化
	    	visualMap: {
		        show: false,
		        min: 0,
		        max: 600,
		        inRange: {
		            colorLightness: [0, 1]
		        }
		    },
		    series : [
		        {
		            name: '访问来源',
		            type: 'pie',
		            radius: '55%', //大小
		            roseType: 'angle',  //饼图类型
		            data:[
		                {value:235, name:'视频广告'},
		                {value:274, name:'联盟广告'},
		                {value:310, name:'邮件营销'},
		                {value:335, name:'直接访问'},
		                {value:400, name:'搜索引擎'}
		            ],
		            label: {
		                normal: {
		                    textStyle: {
		                        color: 'rgba(255, 255, 255, 0.6)'
		                    }
		                }
		            },
		            labelLine: {
		                normal: {
		                    lineStyle: {
		                        color: 'rgba(255, 255, 255, 0.3)'
		                    }
		                }
		            },
			        itemStyle: {
		                normal: {
		                    shadowBlur: 20, //阴影范围
		                    shadowColor: 'rgba(0, 0, 0, 0.5)',
					        color: '#ff0',// 设置扇形的颜色
		                }
		            }
		        }
		    ]
		}

		// 初始化
		var mychart=echarts.init(document.getElementById('chart'));
		mychart.showLoading();
		mychart.setOption(column);
		mychart.hideLoading();
		
		
		return mychart;
	}
    

 //    params={
	//     // 当前点击的图形元素所属的组件名称，
	//     // 其值如 'series'、'markLine'、'markPoint'、'timeLine' 等。
	//     componentType: string,
	//     // 系列类型。值可能为：'line'、'bar'、'pie' 等。当 componentType 为 'series' 时有意义。
	//     seriesType: string,
	//     // 系列在传入的 option.series 中的 index。当 componentType 为 'series' 时有意义。
	//     seriesIndex: number,
	//     // 系列名称。当 componentType 为 'series' 时有意义。
	//     seriesName: string,
	//     // 数据名，类目名
	//     name: string,
	//     // 数据在传入的 data 数组中的 index
	//     dataIndex: number,
	//     // 传入的原始数据项
	//     data: Object,
	//     // sankey、graph 等图表同时含有 nodeData 和 edgeData 两种 data，
	//     // dataType 的值会是 'node' 或者 'edge'，表示当前点击在 node 还是 edge 上。
	//     // 其他大部分图表中只有一种 data，dataType 无意义。
	//     dataType: string,
	//     // 传入的数据值
	//     value: number|Array
	//     // 数据图形的颜色。当 componentType 为 'series' 时有意义。
	//     color: string
	// }


	
	</script>
</body>
</html>